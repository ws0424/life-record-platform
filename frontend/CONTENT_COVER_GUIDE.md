# ContentCover 组件使用说明

## 功能特性

ContentCover 组件用于在内容列表页面展示封面，支持以下功能：

1. **多媒体支持**：自动合并视频封面和图片
2. **智能轮播**：多张图片/封面时自动启用轮播
3. **懒加载**：使用 LazyImage 组件优化性能
4. **视频标识**：视频封面显示播放图标
5. **媒体计数**：显示图片和视频数量
6. **默认封面**：无媒体时显示渐变背景

## 使用方法

### 基本用法

```tsx
import { ContentCover } from '@/components/ContentCover';

<ContentCover
  images={content.images}
  videos={content.videos}
  videoThumbnails={content.video_thumbnails}
  title={content.title}
  height={200}
/>
```

### Props 说明

| 属性 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| images | string[] | 否 | [] | 图片 URL 数组 |
| videos | string[] | 否 | [] | 视频 URL 数组 |
| videoThumbnails | string[] | 否 | [] | 视频封面 URL 数组 |
| title | string | 是 | - | 内容标题（用于 alt 属性） |
| height | number | 否 | 200 | 封面高度（px） |

## 展示逻辑

1. **优先级**：视频封面 > 图片 > 默认封面
2. **合并顺序**：先添加视频封面，再添加图片
3. **单张媒体**：不启用轮播，悬停时放大
4. **多张媒体**：启用轮播，自动播放，支持导航

## 轮播功能

- **自动播放**：3秒切换一次
- **暂停播放**：鼠标悬停时暂停
- **无缝循环**：支持循环播放
- **分页指示器**：显示当前位置
- **导航按钮**：左右切换（移动端隐藏）
- **动态分页**：超过5个时使用动态分页

## 样式特性

- **悬停效果**：图片放大 1.05 倍
- **视频标识**：半透明圆形背景 + 播放图标
- **媒体计数**：右上角显示图片和视频数量
- **响应式**：移动端隐藏导航按钮

## 已应用页面

- ✅ `/app/daily/page.tsx` - 日常记录列表
- ✅ `/app/explore/page.tsx` - 探索发现页面
- ⏳ `/app/travel/page.tsx` - 旅游路线（待接入真实数据）

## 性能优化

1. **懒加载**：使用 react-lazy-load-image-component
2. **模糊效果**：加载时显示模糊占位图
3. **阈值控制**：提前 100px 开始加载
4. **CSS 优化**：使用 transform 而非 position

## 示例效果

### 单张图片
- 显示单张图片
- 悬停时放大
- 无轮播控件

### 多张图片
- 自动轮播
- 显示分页指示器
- 显示导航按钮
- 显示媒体数量

### 视频封面
- 显示视频封面图
- 显示播放图标
- 标记为视频类型

### 混合媒体
- 视频封面 + 图片
- 统一轮播展示
- 分别计数显示

### 无媒体
- 显示渐变背景
- 显示图片图标
- 保持视觉一致性

## 注意事项

1. **数组对应**：videos 和 videoThumbnails 数组索引需要对应
2. **URL 有效性**：确保 URL 可访问，否则显示加载失败
3. **性能考虑**：大量图片时建议使用缩略图
4. **移动端**：自动隐藏导航按钮，使用滑动操作

## 依赖库

- `swiper` - 轮播组件
- `react-lazy-load-image-component` - 图片懒加载

